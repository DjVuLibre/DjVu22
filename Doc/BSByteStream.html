<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML>
<HEAD>
   <TITLE>class  BSByteStream</TITLE>
   <META NAME="GENERATOR" CONTENT="DOC++ 3.4.10">
</HEAD>
<BODY BGCOLOR="#ffffff">

<H2>class  <A HREF="#DOC.DOCU">BSByteStream</A></H2></H2><BLOCKQUOTE>Performs bzz compression/decompression.</BLOCKQUOTE>
<HR>

<H2>Inheritance:</H2>
<APPLET CODE="ClassGraph.class" WIDTH=600 HEIGHT=65>
<param name=classes value="CByteStream,MByteStream.html,CBSByteStream,MBSByteStream.html">
<param name=before value="M,M">
<param name=after value="Md_,M">
<param name=indent value="0,1">
<param name=arrowdir value="down">
</APPLET>
<HR>

<DL>
<P><DL>
<DT><H3>Public Methods</H3><DD><DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif> <B><A HREF="#DOC.1.4.12.1.1">BSByteStream</A></B>(<!1><A HREF="ByteStream.html">ByteStream</A> &amp;bs, int blocksize=0)
<DD><I>Constructs a BSByteStream.</I>
</DL></P>

</DL>
<HR><H3>Inherited from <A HREF="ByteStream.html">ByteStream</A>:</H3>
<DL>
<P><DL>
<DT><H3>Public Methods</H3><DD><DT>
<P> <B>Virtual Functions.</B>
<DT>
<P> <B>Utility Functions.  </B>
</DL></P>

</DL>

<A NAME="DOC.DOCU"></A>
<HR>
<H2>Documentation</H2>
<BLOCKQUOTE>Performs bzz compression/decompression.

<P>Class <TT>BSByteStream</TT> defines a <!1><A HREF="ByteStream.html">ByteStream</A> which transparently
performs the BZZ compression/decompression. The constructor of class
<!1><A HREF="BSByteStream.html">BSByteStream</A> takes another <!1><A HREF="ByteStream.html">ByteStream</A> as argument.  Any data
written to the BSByteStream is compressed and written to this second
ByteStream. Any data read from the BSByteStream is internally generated by
decompressing data read from the second ByteStream.

<P>Program <!1><A HREF="bzz.html">bzz</A> demonstrates how to use this class.  All the hard work
is achieved by a simple ByteStream to ByteStream copy, as shown below.
<PRE>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StdioByteStream&nbsp;in(infile,&quot;rb&quot;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StdioByteStream&nbsp;out(outfile,&quot;wb&quot;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(encoding)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BSByteStream&nbsp;bsb(&amp;out,&nbsp;blocksize);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bsb.copy(in);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BSByteStream&nbsp;bsb(&amp;in);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.copy(bsb);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;</PRE>
Due to the block oriented nature of the Burrows-Wheeler transform, there
is a very significant latency between the data input and the data output.
You can use function <TT>flush</TT> to force data output at the expense of
compression efficiency.  Destroying the BSByteStream performs an implicit
<TT>flush</TT>.  </BLOCKQUOTE>
<DL>

<A NAME="BSByteStream"></A>
<A NAME="DOC.1.4.12.1.1"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B> BSByteStream(<!1><A HREF="ByteStream.html">ByteStream</A> &amp;bs, int blocksize=0)</B></TT>
<DD>Constructs a BSByteStream.
Argument <TT>blocksize</TT> determines whether the BSByteStream will be used
for compressing or decompressing data. 
<DL>
<DT><B>Decompression</B><DD>
Setting <TT>blocksize</TT> to zero initializes the decompressor.  Chunks of
data will be read from ByteStream <TT>bs</TT> and decompressed into an internal
buffer. Function <TT>read</TT> can be used to access the decompressed data.
<DT><B>Compression</B><DD>
Setting <TT>blocksize</TT> to a positive number between 100 and 4096
initializes the compressor.  Data written to the BSByteStream will be
accumulated into an internal buffer.  The buffered data will be
compressed and written to ByteStream <TT>bs</TT> whenever the buffer sizes
reaches the maximum value specified by argument <TT>blocksize</TT> (in
kilobytes).  Using a larger block size usually increases the compression
ratio at the expense of computation time.  There is no need however to
specify a block size larger than the total number of bytes to compress.
Setting <TT>blocksize</TT> to <TT>1024</TT> is a good starting point.
</DL> 
<DL><DT><DD></DL><P></DL>

<HR><DL><DT><B>This class has no child classes.</B></DL>

<DL><DT><DD></DL><P><P><I><A HREF="index.html">Alphabetic index</A></I> <I><A HREF="HIER.html">HTML hierarchy of classes</A> or <A HREF="HIERjava.html">Java</A></I></P><HR>
<!-- This is were the DOC++ footer is defined  -->
